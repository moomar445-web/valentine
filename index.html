<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Naz, be my Valentine? üíò</title>

  <style>
    :root{
      --accent:#ff3d7f;
      --accent2:#ffb020;
      --ink:#1f1f1f;
      --card: rgba(255,255,255,0.88);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      overflow:hidden;
      color:var(--ink);
      background: radial-gradient(circle at 15% 25%, #fff1f7, #ffe0ea 35%, #ffe9d6 85%);
      animation:bgShift 8s ease-in-out infinite alternate;
    }
    @keyframes bgShift{
      0%{ filter:hue-rotate(0deg) saturate(1.05); }
      100%{ filter:hue-rotate(18deg) saturate(1.25); }
    }

    /* Floating hearts layer */
    .float-layer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index: 1;
    }
    .heart{
      position:absolute;
      font-size:18px;
      opacity:.85;
      animation: rise linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
    }
    @keyframes rise{
      from{ transform: translateY(30vh) translateX(0) scale(.7) rotate(0deg); opacity:0; }
      10%{ opacity:.9; }
      to{ transform: translateY(-120vh) translateX(var(--drift)) scale(var(--s)) rotate(360deg); opacity:0; }
    }

    /* Sparkles */
    .spark{
      position:absolute;
      width:8px;height:8px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,0));
      animation: pop .7s ease-out forwards;
      pointer-events:none;
      mix-blend-mode: screen;
      z-index: 9998;
    }
    @keyframes pop{
      from{ transform: translate(-50%,-50%) scale(.2); opacity:1; }
      to{ transform: translate(-50%,-50%) scale(3.8); opacity:0; }
    }

    .card{
      width:min(760px, 92vw);
      background:var(--card);
      border:1px solid rgba(0,0,0,.08);
      border-radius:20px;
      box-shadow: 0 22px 70px rgba(0,0,0,.18);
      padding:26px 22px 18px;
      text-align:center;
      position:relative;
      backdrop-filter: blur(6px);
      z-index: 2;
    }
    h1{
      margin:0 0 8px;
      font-size: clamp(26px, 4.4vw, 46px);
      letter-spacing:-.02em;
    }
    .name{ color:var(--accent); font-weight:900; }
    .sub{
      margin:0 0 14px;
      opacity:.86;
      font-size: clamp(14px, 2.2vw, 18px);
    }
    .from{
      margin: 0 0 16px;
      font-weight:700;
      opacity:.8;
    }
    .from b{ color: var(--accent); }

    .stage{
      position:relative;
      height: 260px;
      border-radius:18px;
      border: 1px dashed rgba(0,0,0,.18);
      background: linear-gradient(180deg, rgba(255,61,127,.10), rgba(255,176,32,.10));
      overflow:hidden;
      margin: 14px 0 10px;
    }

    .btn{
      border:0;
      border-radius:999px;
      padding: 14px 22px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform: scale(.98); }

    .yes{
      background: var(--accent);
      color:#fff;
      box-shadow: 0 16px 30px rgba(255,61,127,.35);
      transform-origin: center;
    }
    .yes:hover{ filter: brightness(1.06); }

    .no{
      position:absolute;
      left: 62%;
      top: 56%;
      transform: translate(-50%,-50%);
      background: #f2f2f6;
      color:#222;
      box-shadow: 0 12px 26px rgba(0,0,0,.14);
      will-change: left, top, transform;
    }

    .row{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top: 12px;
    }

    .tiny{
      font-size:12px;
      opacity:.72;
      margin-top:10px;
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:22px;
      transform:translateX(-50%);
      padding: 12px 16px;
      background: rgba(15,15,18,.88);
      color:#fff;
      border-radius:999px;
      font-weight:800;
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:9999;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-8px);
    }

    /* Confetti */
    .confetti{
      position:fixed;
      width:10px;
      height:14px;
      top:-20px;
      left:0;
      opacity: .95;
      border-radius: 3px;
      z-index: 9998;
      animation: fall linear forwards;
    }
    @keyframes fall{
      to{
        transform: translateY(110vh) rotate(720deg);
        opacity:0.95;
      }
    }

    /* VN button */
    .music{
      position:absolute;
      top:14px;
      right:14px;
      display:flex;
      gap:8px;
      align-items:center;
      background: rgba(255,255,255,.7);
      border: 1px solid rgba(0,0,0,.10);
      padding: 8px 10px;
      border-radius: 999px;
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }
    .music button{
      border:0;
      border-radius:999px;
      padding:8px 10px;
      font-weight:900;
      cursor:pointer;
      background: #111;
      color:#fff;
    }
    .music .hint{
      font-size:12px;
      opacity:.75;
      white-space:nowrap;
    }

    /* --- Intro Screen --- */
    .intro{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      z-index: 10000;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,.55), rgba(255,61,127,.20), rgba(255,176,32,.18));
      backdrop-filter: blur(10px);
      padding: 16px;
    }
    .intro.hide{ display:none; }

    .introCard{
      width: min(600px, 92vw);
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: 20px;
      box-shadow: 0 22px 70px rgba(0,0,0,.22);
      padding: 18px 16px;
      text-align: center;
    }
    .introBadge{
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 950;
      background: rgba(255,61,127,.12);
      border: 1px dashed rgba(0,0,0,.18);
      margin-bottom: 10px;
    }
    .introTitle{
      font-size: clamp(22px, 4vw, 34px);
      font-weight: 980;
      margin-bottom: 6px;
    }
    .introText{
      font-weight: 750;
      opacity: .86;
      margin: 0 0 12px;
      line-height: 1.35;
    }
    .introBtn{
      border: 0;
      border-radius: 999px;
      padding: 14px 18px;
      font-weight: 980;
      cursor: pointer;
      background: #111;
      color: #fff;
      box-shadow: 0 16px 30px rgba(0,0,0,.20);
    }
    .introTiny{
      margin-top: 10px;
      font-size: 12px;
      opacity: .72;
    }
    .introCountdown{
      margin-top: 10px;
      font-weight: 980;
      font-size: 28px;
      color: var(--accent);
      min-height: 34px;
      letter-spacing: .02em;
    }
    .introBar{
      width: min(420px, 86%);
      height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.08);
      margin: 12px auto 0;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.08);
    }
    .introBarFill{
      height:100%;
      width:0%;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,61,127,.9), rgba(255,176,32,.9));
      transition: width .18s ease;
    }

    /* --- Cat Overlay --- */
    .catOverlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.28);
      z-index: 9999;
      padding: 16px;
    }
    .catOverlay.show{ display:grid; }

    .catCard{
      width: min(520px, 92vw);
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: 18px;
      box-shadow: 0 22px 70px rgba(0,0,0,.25);
      padding: 14px;
      backdrop-filter: blur(8px);
    }

    .catRow{
      display:flex;
      gap: 14px;
      align-items:center;
    }

    .catBlob{
      width: 140px;
      height: 120px;
      display:grid;
      place-items:center;
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,61,127,.10), rgba(255,176,32,.10));
      border: 1px dashed rgba(0,0,0,.18);
      transform-origin: center;
    }

    .catText{ flex:1; text-align:left; }
    .catTitle{
      font-size: 18px;
      font-weight: 980;
      margin-bottom: 6px;
    }
    .catMsg{
      font-size: 14px;
      opacity: .86;
      font-weight: 750;
      line-height: 1.35;
    }

    .catBtns{ margin-top: 10px; }
    .catBtn{
      border:0;
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 980;
      cursor:pointer;
      background: #111;
      color:#fff;
    }

    @keyframes wiggle {
      0%{ transform: rotate(0deg) scale(1); }
      20%{ transform: rotate(-6deg) scale(1.02); }
      40%{ transform: rotate(6deg) scale(1.02); }
      60%{ transform: rotate(-4deg) scale(1.02); }
      80%{ transform: rotate(4deg) scale(1.02); }
      100%{ transform: rotate(0deg) scale(1); }
    }
    .wiggle{ animation: wiggle .55s ease-in-out; }

    @keyframes dance {
      0%{ transform: translateY(0) rotate(0deg) scale(1); }
      25%{ transform: translateY(-6px) rotate(-6deg) scale(1.03); }
      50%{ transform: translateY(0) rotate(6deg) scale(1.03); }
      75%{ transform: translateY(-6px) rotate(-6deg) scale(1.03); }
      100%{ transform: translateY(0) rotate(0deg) scale(1); }
    }
    .dance{ animation: dance .8s ease-in-out infinite; }
  </style>
</head>

<body>
  <div class="float-layer" id="floatLayer"></div>

  <!-- Intro Screen -->
  <div class="intro" id="intro">
    <div class="introCard">
      <div class="introBadge">üíå For Naz</div>
      <div class="introTitle">You‚Äôve got a message‚Ä¶</div>
      <div class="introText">
        From <b>Mohamed</b> üáπüá∑üíò<br/>
        <span style="opacity:.9">Hazƒ±r mƒ±sƒ±n?</span> (Are you ready?)
      </div>

      <button class="introBtn" id="startBtn" type="button">Start ‚ú®</button>

      <div class="introCountdown" id="countdown"></div>
      <div class="introBar" aria-hidden="true">
        <div class="introBarFill" id="barFill"></div>
      </div>

      <div class="introTiny">Tip: sound can start after you tap Start.</div>
    </div>
  </div>

  <div class="card" id="mainCard">
    <div class="music">
      <button id="musicBtn" type="button">‚ñ∂ VN</button>
      <div class="hint" id="musicHint">tap to play</div>
    </div>

    <h1><span class="name">Naz</span>, will you be my Valentine? üíò</h1>
    <p class="sub">‚Äôill let you  <b>*hit*</b> .</p>
    <p class="from">‚Äî from <b>Mohamed</b> üòå</p>

    <div class="stage" id="stage">
      <button class="btn no" id="noBtn" type="button">No üôÖ‚Äç‚ôÄÔ∏è</button>
    </div>

    <div class="row">
      <button class="btn yes" id="yesBtn" type="button">Yes üíñ</button>
    </div>

    <div class="tiny">
      Turkish bonus line: <b>‚ÄúNaz, benim sevgilim olur musun?‚Äù</b> üáπüá∑üíò
      <br/>Try pressing ‚ÄúNo‚Äù‚Ä¶ if you can üòà
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <!-- Cute Cat Overlay -->
  <div class="catOverlay" id="catOverlay" aria-hidden="true">
    <div class="catCard">
      <div class="catRow">
        <div class="catBlob" id="catBlob" aria-hidden="true">
          <!-- Simple cute SVG cat -->
          <svg width="130" height="110" viewBox="0 0 130 110" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 44 L10 22 L36 30" fill="#ffd7e6"/>
            <path d="M106 44 L120 22 L94 30" fill="#ffd7e6"/>
            <ellipse cx="65" cy="62" rx="44" ry="38" fill="#ffd7e6"/>
            <ellipse cx="49" cy="58" rx="7" ry="9" fill="#fff"/>
            <ellipse cx="81" cy="58" rx="7" ry="9" fill="#fff"/>
            <circle cx="49" cy="60" r="3.5" fill="#222"/>
            <circle cx="81" cy="60" r="3.5" fill="#222"/>
            <path d="M65 66 C62 69 59 71 56 71 C60 75 64 76 65 76 C66 76 70 75 74 71 C71 71 68 69 65 66Z" fill="#ff6aa2"/>
            <path d="M28 66 C42 64 46 64 52 66" stroke="#ff6aa2" stroke-width="2" stroke-linecap="round"/>
            <path d="M78 66 C84 64 88 64 102 66" stroke="#ff6aa2" stroke-width="2" stroke-linecap="round"/>
            <path d="M58 78 C61 82 69 82 72 78" stroke="#222" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>

        <div class="catText">
          <div class="catTitle" id="catTitle">Naz‚Ä¶ wait! üêæ</div>
          <div class="catMsg" id="catMsg">The cat has something to say‚Ä¶</div>
          <div class="catBtns">
            <button class="catBtn" id="catOkBtn" type="button">Okay üòº</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Put a Turkish mp3 / your voice in your repo named music.mp3 -->
  <audio id="bgm" preload="auto" loop playsinline>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    const stage = document.getElementById('stage');
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const toast = document.getElementById('toast');
    const floatLayer = document.getElementById('floatLayer');

    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    const musicHint = document.getElementById('musicHint');

    const intro = document.getElementById("intro");
    const startBtn = document.getElementById("startBtn");
    const countdownEl = document.getElementById("countdown");
    const barFill = document.getElementById("barFill");

    const catOverlay = document.getElementById('catOverlay');
    const catTitle = document.getElementById('catTitle');
    const catMsg = document.getElementById('catMsg');
    const catOkBtn = document.getElementById('catOkBtn');
    const catBlob = document.getElementById('catBlob');

    let dodgeLevel = 1;          // gets harder
    let yesScale = 1;            // yes button grows
    let playing = false;
    let introStarted = false;
    let catOpen = false;

    const noTaunts = [
      "Nice try üòà",
      "Nopeeee üòÇ",
      "Caught you lacking üò≠",
      "You can‚Äôt choose No üíò",
      "Try again, superstar ‚ú®",
      "Too slow üòå",
      "Not today üòé"
    ];

    const catBegLines = [
      "Naz‚Ä¶ please don‚Äôt press No ü•∫üêæ",
      "Meow meow‚Ä¶ choose YES for Mohamed üòºüíò",
      "I‚Äôm just a small cat‚Ä¶ don‚Äôt break hearts üò≠üêæ",
      "The No button is illegal in this house üòæüíû"
    ];

    const catSweetLines = [
      "I heard you love cats‚Ä¶ so I came to approve this Valentine request üòåüêæ",
      "Naz, Mohamed made this just for you‚Ä¶ that‚Äôs very sweet üòΩüíñ",
      "Friendly cat reminder: YES looks great on you üáπüá∑üíò"
    ];

    const catDanceLines = [
      "SHE SAID YES!! I‚ÄôM DANCING üòªüéâ",
      "VALENTINE UNLOCKED!! üêæüíÉüíò",
      "We celebrating tonight üòº‚ú®üíñ"
    ];

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => toast.classList.remove('show'), 1400);
    }

    function rand(min,max){ return Math.random()*(max-min)+min; }

    // Sparkle burst at pointer
    function sparkle(x,y){
      for(let i=0;i<6;i++){
        const s=document.createElement('div');
        s.className='spark';
        s.style.left=(x+rand(-16,16))+'px';
        s.style.top=(y+rand(-16,16))+'px';
        s.style.opacity=rand(.6,1);
        document.body.appendChild(s);
        setTimeout(()=>s.remove(), 800);
      }
    }

    // Floating hearts spawner
    function spawnHeart(){
      const el=document.createElement('div');
      el.className='heart';
      el.textContent = Math.random() < 0.25 ? "‚ú®" : (Math.random()<0.5 ? "üíñ" : "üíò");
      el.style.left = rand(0, 100) + "vw";
      el.style.setProperty("--drift", rand(-60,60) + "px");
      el.style.setProperty("--s", rand(0.7, 1.6));
      el.style.animationDuration = rand(4.5, 9.5) + "s";
      floatLayer.appendChild(el);
      setTimeout(()=>el.remove(), 11000);
    }
    setInterval(spawnHeart, 220);

    // Confetti celebration
    function confettiBoom(){
      const pieces = 180;
      for(let i=0;i<pieces;i++){
        const c=document.createElement('div');
        c.className='confetti';
        c.style.left = rand(0,100)+"vw";
        c.style.animationDuration = rand(2.8, 6.5)+"s";
        c.style.transform = `translateY(-20px) rotate(${rand(0,360)}deg)`;
        c.style.background = `hsl(${Math.floor(rand(0,360))} 90% 60%)`;
        c.style.width = rand(6,12) + "px";
        c.style.height = rand(10,18) + "px";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), 7000);
      }
    }

    function openCatOverlay(mode="beg"){
      catOpen = true;
      catOverlay.classList.add("show");

      if(mode === "dance"){
        catTitle.textContent = "CAT CELEBRATION üòª";
        catMsg.textContent = catDanceLines[Math.floor(Math.random()*catDanceLines.length)];
        catBlob.classList.add("dance");
      } else if(mode === "sweet"){
        catTitle.textContent = "Message from the cat üêæ";
        catMsg.textContent = catSweetLines[Math.floor(Math.random()*catSweetLines.length)];
        catBlob.classList.remove("dance");
        catBlob.classList.add("wiggle");
        setTimeout(()=>catBlob.classList.remove("wiggle"), 600);
      } else {
        catTitle.textContent = "Naz‚Ä¶ wait! üêæ";
        catMsg.textContent = catBegLines[Math.floor(Math.random()*catBegLines.length)];
        catBlob.classList.remove("dance");
        catBlob.classList.add("wiggle");
        setTimeout(()=>catBlob.classList.remove("wiggle"), 600);
      }
    }

    function closeCatOverlay(){
      catOpen = false;
      catOverlay.classList.remove("show");
      catBlob.classList.remove("dance");
    }

    catOkBtn?.addEventListener("click", closeCatOverlay);
    catOverlay?.addEventListener("click", (e)=>{
      if(e.target === catOverlay) closeCatOverlay();
    });

    async function tryPlayMusic(){
      try{
        await bgm.play();
        playing = true;
        musicBtn.textContent = "‚è∏ VN";
        musicHint.textContent = "playing üíò";
        return true;
      }catch(e){
        musicHint.textContent = "tap to play";
        return false;
      }
    }

    // VN button toggle
    musicBtn?.addEventListener("click", async ()=>{
      if(!playing){
        const ok = await tryPlayMusic();
        if(ok) showToast("VN on üéôÔ∏èüáπüá∑");
        else showToast("If it didn‚Äôt play, tap again üòÖ");
      }else{
        bgm.pause();
        playing = false;
        musicBtn.textContent = "‚ñ∂ VN";
        musicHint.textContent = "tap to play";
        showToast("Paused üé∂");
      }
    });

    // Place no button safely
    function moveNoButton(ev){
      const s = stage.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const pad = 12;

      const maxLeft = s.width - b.width - pad;
      const maxTop  = s.height - b.height - pad;

      const px = (ev?.clientX ?? (s.left + s.width/2));
      const py = (ev?.clientY ?? (s.top + s.height/2));

      let best = {left: rand(pad,maxLeft), top: rand(pad,maxTop), score:-1};

      const tries = 12 + Math.floor(dodgeLevel * 3);
      for(let i=0;i<tries;i++){
        const left = rand(pad, maxLeft);
        const top = rand(pad, maxTop);
        const cx = s.left + left + b.width/2;
        const cy = s.top + top + b.height/2;
        const dx = cx - px, dy = cy - py;
        const dist = Math.sqrt(dx*dx + dy*dy);
        const score = dist + rand(0, 120);
        if(score > best.score) best = {left, top, score};
      }

      noBtn.style.left = best.left + "px";
      noBtn.style.top = best.top + "px";
      noBtn.style.transform = "translate(0,0) rotate(" + rand(-6,6) + "deg)";
      noBtn.style.transition = `left ${Math.max(0.06, 0.16 - dodgeLevel*0.01)}s ease,
                               top  ${Math.max(0.06, 0.16 - dodgeLevel*0.01)}s ease,
                               transform .12s ease`;

      dodgeLevel = Math.min(12, dodgeLevel + 0.7);

      yesScale = Math.min(2.2, yesScale + 0.08);
      yesBtn.style.transform = `scale(${yesScale})`;

      const msg = noTaunts[Math.floor(rand(0, noTaunts.length))];
      showToast(msg);
      sparkle(px, py);

      // Cat reactions on "No" attempts
      if (!catOpen) {
        if (Math.random() < 0.65) openCatOverlay("beg");
        else openCatOverlay("sweet");
      }
    }

    function initNo(){
      const s = stage.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const left = (s.width*0.62) - (b.width/2);
      const top  = (s.height*0.56) - (b.height/2);
      noBtn.style.left = left + "px";
      noBtn.style.top  = top + "px";
      noBtn.style.transform = "translate(0,0)";
    }

    noBtn.addEventListener("mouseenter", (e)=> moveNoButton(e));
    noBtn.addEventListener("mousemove", (e)=>{
      if(dodgeLevel > 2 && Math.random() < 0.35) moveNoButton(e);
    });
    noBtn.addEventListener("touchstart", (e)=>{
      const t = e.touches?.[0];
      moveNoButton(t);
      e.preventDefault();
    }, {passive:false});
    noBtn.addEventListener("click", (e)=> moveNoButton(e));

    yesBtn.addEventListener("click", ()=>{
      openCatOverlay("dance");
      confettiBoom();
      showToast("YAAAY!! üíñ NAZ SAID YES!");

      const center = stage.getBoundingClientRect();
      sparkle(center.left + center.width/2, center.top + center.height/2);

      stage.innerHTML = `
        <div style="height:100%;display:grid;place-items:center;padding:18px;">
          <div style="text-align:center;">
            <div style="font-size:52px; line-height:1;">üíûüíêüç´‚ú®</div>
            <div style="font-size:24px;font-weight:950;margin-top:10px;">
              Naz said YES to Mohamed!!
            </div>
            <div style="opacity:.88;margin-top:8px;font-weight:750;">
              Valentine‚Äôs plans: <span style="color:#ff3d7f">UNLOCKED</span> üòå
            </div>
            <div style="margin-top:10px;opacity:.8;">
              üáπüá∑ <b>‚Äú√áok tatlƒ±sƒ±n!‚Äù</b>
            </div>
          </div>
        </div>
      `;
    });

    // Intro sequence: Start -> countdown 3..2..1 -> hide intro -> try play music
    function setProgress(pct){
      barFill.style.width = Math.max(0, Math.min(100, pct)) + "%";
    }

    async function runIntro(){
      if(introStarted) return;
      introStarted = true;

      startBtn.disabled = true;
      startBtn.textContent = "Loading‚Ä¶ üíò";

      const steps = [
        {t:"3", p:25},
        {t:"2", p:55},
        {t:"1", p:85},
        {t:"GO! üòº", p:100},
      ];

      for(const s of steps){
        countdownEl.textContent = s.t;
        setProgress(s.p);
        await new Promise(r=>setTimeout(r, 520));
      }

      intro.classList.add("hide");
      showToast("Okay Naz‚Ä¶ here we go üòåüíò");

      // Best chance to start audio (user gesture already happened)
      await tryPlayMusic();
    }

    startBtn?.addEventListener("click", runIntro);

    // Resize safety
    window.addEventListener("resize", initNo);

    // Initialize
    initNo();
  </script>
</body>
</html>


